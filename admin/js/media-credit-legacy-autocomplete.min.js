/*! media-credit media-credit-legacy-autocomplete.js 2017-01-29 9:01:08 PM */
!function(a){var b={};b.autoCompleteLegacy=function(b,c){var d=function(a){c.attr("value",""),c.attr("data-author-display",a),b.attr("value",a)};return b.autocomplete({autoFocus:!0,minLength:2,source:$mediaCredit.names||($mediaCredit.names=_.map($mediaCredit.id,function(a,b){return{id:b,value:a,label:a}})),select:function(a,d){return c.attr("value",d.item.id),c.attr("data-author-display",d.item.value),b.attr("value",d.item.value),!1},response:function(b,e){var f;if(0===e.content.length)return f=a(this).val(),f!==c.attr("data-display-author")&&d(f),!1},open:function(){return a(this).autocomplete("widget").css("z-index",2e6),!1}}).click(function(){this.select()}).change(function(a){var e=b.val(),f=c.attr("data-author-id");$mediaCredit.noDefaultCredit&&""===e&&""===c.val()?(c.val(f),c.attr("data-author-display",$mediaCredit.id[f]),b.val("").attr("placeholder",c.attr("data-author-display")),a.stopImmediatePropagation(),a.preventDefault()):e!==c.attr("data-author-display")&&(d(e),a.stopImmediatePropagation(),a.preventDefault())})},b.data=a(".media-credit-hidden").data(),b.input=a("#attachments\\["+b.data.postId+"\\]\\[media-credit\\]"),b.hidden=a("#attachments\\["+b.data.postId+"\\]\\[media-credit-hidden\\]"),b.autoCompleteLegacy(b.input,b.hidden)}(jQuery);